(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{101:function(e,t,n){e.exports={"App-logo":"app_App-logo__1u9fY","App-logo-spin":"app_App-logo-spin__1cpH1","App-header":"app_App-header__1ofuY","App-link":"app_App-link__3q4JB"}},102:function(e,t,n){e.exports={ModalOverlay:"modal-overlay_ModalOverlay__3H7yZ"}},105:function(e){e.exports=JSON.parse('{"bun":{"ru":"\u0411\u0443\u043b\u043a\u0438"},"sauce":{"ru":"\u0421\u043e\u0443\u0441\u044b"},"main":{"ru":"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}}')},115:function(e,t,n){},13:function(e,t,n){e.exports={formContainer:"common_formContainer__240NE",centered:"common_centered__3U105",feedTitle:"common_feedTitle__qRAls",feedContainer:"common_feedContainer__3okLe"}},16:function(e,t,n){e.exports={categoryBar:"burger-ingredients_categoryBar__2QHrv",categoryBlock:"burger-ingredients_categoryBlock__2bGyk",title:"burger-ingredients_title__32v1n",category:"burger-ingredients_category__2al1n",categoryList:"burger-ingredients_categoryList__1q2Ib",ingredientsMenu:"burger-ingredients_ingredientsMenu__1XPlK",menuContent:"burger-ingredients_menuContent__OyPd_",menuItem:"burger-ingredients_menuItem__ts7QV",menuItemCounter:"burger-ingredients_menuItemCounter__Ufeen",ingredientGrid:"burger-ingredients_ingredientGrid__26iFl"}},199:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(39),s=n.n(a),i=(n(115),n(101)),o=n.n(i),u=n(12),d=n(6),l=n(205),j=n(107),b=n(9),p=n(5),f=n(102),O=n.n(f),m=n(0),h=Object(r.forwardRef)((function(e,t){return Object(m.jsx)("div",{className:O.a.ModalOverlay,onClick:e.onClick})})),x=n(41),g=n.n(x),v=function(e){var t=e.caption,n=e.closeHandler,c=e.show,s=e.children,i=document.getElementById("react-modals");return Object(r.useEffect)((function(){var e=function(e){"Escape"===e.key&&n()};return document.body.addEventListener("keyup",e),function(){document.body.removeEventListener("keyup",e)}}),[n]),c?Object(a.createPortal)(Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"".concat(g.a.Modal),children:[Object(m.jsxs)("div",{className:g.a.TopPanel,children:[Object(m.jsx)("div",{className:"".concat(g.a.Caption," text text_type_main-medium"),children:t}),Object(m.jsx)("div",{className:g.a.CloseButton,children:Object(m.jsx)(p.CloseIcon,{type:"primary",onClick:n})})]}),Object(m.jsx)("div",{className:g.a.ModalContent,children:s})]}),Object(m.jsx)(h,{onClick:n})]}),i):null},y=n(36),_=n.n(y),I=function(e){var t=e.No,n=void 0===t?0:t,r=e.success,c=void 0!==r&&r;return Object(m.jsxs)("div",{className:_.a.OrderDetails,children:[Object(m.jsx)("p",{className:"".concat(_.a.OrderNumber," text text_type_digits-large"),children:n}),Object(m.jsx)("p",{className:"text text_type_main-medium",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(m.jsx)("p",{className:_.a.ImageContainer,children:c&&Object(m.jsx)("img",{alt:"V",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABmJLR0QA/wD/AP+gvaeTAAAYN0lEQVR4nO3daXhU13nA8f+ZRRJakQQIhJYZJNbByCCwIThGYGqzJUBM7NqPU6duHjd20j5t7CRd0jZpnLZp3KRpG9ul29PES1ns2MF27Lo2YDuAMRAHIwwItCIJ0C6Q0Db39IMQ1oyQwGjuMqP394l7Z3mPmHnnnv2CEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIUS0UnYXQERGIBCI67jId7XmC8AUi8LWKcXPksbxl6WlpT0WxbSU2+4CiMhISpn0Pa35JpBiYdgU4JbuHrxtrQ1vWhjXMh67CyAi49KVg7u++BBTpuZbErOuppJtP30Kpfgd4E8tCWoxl90FEBGTDViWHADZub6Q2LFIEkSIEUiCCDECSRAhRiAJEjvqoL/hbJXamor+fyhqLQtqMenFihFa81Ol+JNtP33K+tiG+qnlQS0i4yAxImfqpHe6e/C6XGomkGRFTKU4p7X6p5Qk/e2GhoagFTGtJiPpMSbfH/gW8N2C31rJTQ9+yZQY72/+N06+8SagvlVVceR7pgRxCGmDxBy1FmDqgvmmRZhy+b31WtOCOIQkSAzJnjFjAuhFbq+XrBtuMC3OlHlFuOO8ADcXFMybZFogB5AEiSGeXu8awD1pbgBPfJxpcdxxXiYFAgCuXsO4w7RADiAJEkNcl6o8ZlavBmSPkWqWJEisKCnxaNTtAFMWLDA93NTi/hgKVhUXF3tND2gTSZAY4atsvAUYn5aTS/KkiabHS5o4kbTcHIC0pqaeT5ke0CaSIDFCK6O/elVsfvVqwEA1ayB2LJIEiRn93bvZFrQ/BmQPVOUUkiDCufLz5/mB2XFJSWTOmmlZ3ImzZhGXnAyaObmFcwssC2whSZAYoF196wAm31iEy2XdR6pcislF/eMtrqBebVlgC0mCxISB0XPze6/CZX8cMyarWZIgUS4ra16SgmXKpZgyf57l8bPn34hyKYDlEwOBZMsLYDJJkCg3blzfSiAhs3A68SmplsePT0khc3ohQHxCJyssL4DJJEGinFaXqlfF1levBgxUs9wxWM2SBIluClgN1nbvhrs8HgLriLElFJIgUSw/f86NQE5iRgbj8/NsK0e6z0fihAkA2T5foMi2gphAEiSaufqrV1OKF4Cy94c7e35/XgxU+WJFTF0Ox5p8/9y9oBcP9/jEWbNY+d1vh5x748//ksYTJ8ws1t6qitKYmZslV5AoVVg4fyLom9QIV44rPaRMHEi8VJaYWkQ1Jnc18fvnZmmtl+NisaGZpcAPTOTjzQ46gAYNFSg+chlqn1Lsqqg4cta+UofqCfasVuBaduti/us/Hr/m1/3Ny/9hWpm++MAj7H5738Aiqp+ZFshCYyZBcnICGW4v92r4goG+CQXoYeuYcUC6ghlo7tBKo0Hn+wP7gZ8Fe3nu9OnSZguLP0RaatJd7e0dLF++xM5ihFi+fAm7395HWlrS3cRIgsR8GyQ3d2a2y+15FMWDXLpCJHq8LMjKZmFWNoVpmeSnjicjYRyJ3v51P529vTRd7KTqfCun2pp5/2wdvz5bR2df78DbdgD/imE8XlX1Ub3lf1RJiWd6fWt7T0/vuLd3bic316rbgYystvYMtyy7E6/XezEtxZ128ODB3qu/ytliNkGKi4u9jc3dfwT6r4AkheJTU/PYWDCbkhwf8e5PdvHsDvaxs6aCF8uPsae2Go0GuADqOxMy4n9s5ZfB55tbopXeOWO6n9d/+bRVYa/J7avvo6ysAqVdJZWVH+62uzyjFZNVrJxps6c3NndtAeYDrMwr4MvzFjEzfcJ1v2e828Mq33RW+aZzrLmRJz/cz1vV5cmgf9DY0n1PTkHg7tOnSk9G6m8YiTfes76np5cVy53XWbSiZAllZRXEJbjXA1GfIDHXi+XzzVnv1q4DwPzc5DQ2r1zPj5atHlVyhJuVMYEfL1vDUys+Q05KKmi9wG1wKM8f+EzEgozA43FvBFhe4rwEWV6yFACXq7+M0S6mqlg+X+B+rfh3wLMyr4C/XnIbKXHmbX8D0NnXw7f37uSXlWUAQQ0PV1eUbjYrXkHB3Nw+Q1enpiZz8P1X8bhDd4/tCwbZuXMPr766k/f2H6KpuY3kpERmzSxg7doVfH7TWrxe8/ZY6AsGKV60hvb2C3hcKu/UqSM1pgWzQMxUsfL9gS9p2AyorxTdzJfnLbIkbqInjr//9B34UtN58vB+t4Kn8v1zg1UVR0zpT+01jCUKxaLiopDkOHWqim3bX+aFF1+noaEp5DXNPT3s2XeQPfsOsvnfnuUn//wYgcAMM4qHx+2meP48du7eQ69hLAYkQezm881Zr+EpQP3ZTbdyz0zr10U8XHQT4+Pj+dv331Ggn8rzB85VV5TuiHQcpdViFBTdOIeOzou88upbbNv2MgcOHr78nEJ/Ap9bk8mKpalkT/bS0NjHgcMX2Pz0OU5V1nLXPQ/xP88+wQ1zzVmeW3TjbHbu3oPCdTOwzZQgFon6KlZOQaDQbXAQSP3qjYv5/RsW2lqeJ36znycP7wc471bBheXlxyI6ryPfH9gFLPv0LTdz6NBhOjovApCc5Gb1ivFsWpvJjXMTr/janl6DR79Tzeu7WsnNncIbrz1DfHx8JIsHwNvvvMf9v/s1gF1VFaXLIx7AQlHdSC8uLva6DbYCqat9021PDui/ktyRXwiQEtTuZykpichV2ucLTM7zBb4BLAF459336Lx4kYVFyXz/z/N458UAj30zd9jkAIjzuvjhd/Lx58VTU1PPc1t+EYmiDTFl8uWZJlmmBLBQVCdI/zhHf2/VXy12zg/Vt5esYGpyKkCxr7rhD673fYqLi70+35z1Pn/gJa2oUYrvA3GTJnh58L4sXntuNs/8pJANqzNIHHdtH6XHrfja7/fflPbpZ35+vUUbUXp62sA/M0wJYKGorWLl5s7Mdnk8J4CkzbetZ0l2rt1FCvFubRUPvbUD4LzSzKisLD1zra/1++fN1Mq4x9D6AQW5AG433Dw/hbvWZ/Jbt6bhcV//R9cXhOV3lnKusZftW5+ieEFkd4Lv6+tj+qxlAL1VFaXmdiOaLGob6S6351EgaWVegeOSA+CWqfksz53GzpryFK34GvCNkZ6fk7NknMvbtk7hetAgeBu6fzLutPx4Nq7O5M41GWRmRObj8rhhw6p0Nj99jq1bd0Q8QTyey+WM+j17o/IKcmniYbVCJW1bd3dEBwEj6aPmBu5+ZSsafUEHXXnV1R+2hD8nr+CGYpdhPKjhHiAFICnRzcpbU9mwKoMlxSmmrIWqrOli1b3HGDcugf17d5CUNHzb5Xr4C/sHDKsqSqPyOzYgKq8gbi/3AklLp+Y5NjkAZmdMZHF2DnvrapJdHv3bwJPQ3+A2UHcrpR/AMObpS8+fO3Mcd312AutuTyfpGtsU18uXm0BxUTIHPrjAy6++xd2fX2dqvGgVlQmi4Hc0sKFgtt1FuaqNBXPYW1eD1ur+vGmzy1za/aBGb1BoL8DETC+rV6Tx+c9kMmPaOEvL9vl1GRz44AJbt+2QBBlG1CWI3z83y0AvTPR4Kcnx2V2cq5qWloHH5aLPMG5W2vWGRke0wT0aq5an871/rOXQoSOUlVUwfbrflnI4WdQliFZ6BRq1ICv7E09Zt0pXMMju0xU8X1bKvjOn0bq/EmVGg3s0EuIVq29LZ8tLjWzb/gp/9qdftbtIjmP/p/TJ3QywcNJUu8sxxNHmBrafOMIrlWV09vYAkJzo5jaTG9yjsWldBlteauT5F37Jo488SJzJkzujTdQlyKU15BSOd8YYVOPFTl6rLOPnp45youXjSYJWNrhHY97sRGYVjuPYyVbe2rWXVbcvs7tIjhJ1CaI0hSjwpaZd/ckmCWrN/jOneb6slDdryukzDMDeBvdofG5NBn/zT7Vs3fKyJEiYqEsQFOkA4+Ot/wJWtrfyy8oTvFB2lDOdF4D+Ee5PLbS/wT0a6+9I5/En69n9zj7q688xZUrM7NozatGXIJAMXN5gwQqHztXxxG/2896Z05fPFfoT2LQug/W3Z5CRHo3/jR8bn+Zh5adTefWtVra/8Cp/8JUv2l0kx4juT9YCmz88wE9+8x6G1iQnulmzcjyb1mZQFEi6+oujyKZ1mf0J8vwrfPXh+xlpQ7qxJBoT5AKQ0dnbS1q8+6pPHo3njh/mnz/Yh9sNX/nCZH7v3okkJZob0y5LFiaTPTmO6uo69r53iE8tLra7SI7g3O6V4TUDtHR3mRrkTOcFfnRoD0rBD/7Cxx9+aXLMJgeAy6W4c01/z+DWLS/bXBrniLoE0XAKoKq91dQ4W44f4WJfH2tvS2ftyvGmxnKKz63JwOVSvPa/u2hrO293cRwh6hLEpTgGcLKt6WpPHZW3aysAuGdjpqlxnCR7chxLFibT3d3DSzv+1+7iOELUJQgG+wAOnK0zNUzN+XYAZs+I7DRwp9u0tv8HYes2qWaBxetBAoFA3PlOvUFptQHFAiCHj3dUF+JKOoDTaA5ppV9MSVQvlpaW9lgV3LIEyZ8293No/QNgmlUxRQzSnEKrr1dVHTFnQX0YK7plXPn+wPeBH0P/KLgQ102RgeLu9IxJia0tDW8B+qqvGQXTEyTfP+fvQX3d7DhizFmanjEpobWl4f/MDGJqFetSter5wefcXjeLVhVxw61zmJQ3kbiEqF/XL0zU09XLueoGDu86yoHXf0OwLxjyuNLGxsrKj140K75pCRIIBOIudPIRg9ocqZnJ3PcXm8jyy2Q48cmdKT/HM49tp73pwuDTJydkJMwx6/4spnXznu/UGxiUHG6vW5JDjMrkaZO491t34vaEtAwKG5q71psV07QEUVptGHy8aFWRJIcYtSnTsii+vSjknCL0uxZJJt4TmJDZbvOWBUwLJcaWopI5YWe0aZsymzmSnj34YELu2JmyIcw1MX/IXmimbVBgZoIkDz6IT5DNAERkXOG7lHyl50VC9M3FEsJCkiBCjMDMBOkYfNDdZdn8MhHjuju7w0+ZtnjFvATRhNwPo6G60bRQYmw5Vx26FkjDNd975ZMysZtX7Rt8eHj3R6aFEmPL4V2lIccK9g3z1FEzcaBQh6y4OfD6B5wpP2dWODFG1J86w8E3Doec0+iI3014gGkJkpmZ8DxQOXAc7A3yzGPbJUnEdas/dYZnHnshfMJieXX+JNPWhpg23b2+vt5IHz+xEqV+e+Bc98Uefv3mh3S0dZKQlEBCcjweT+zuFCJGr7urh/qTZ3l3+z5e/tf/o6sjtIGu4f62D94/ZlZ801cU5vsCP0Txx8M9npqZzGe/cgfTiwvMLoqIIicOlLPjidfCZ+6GUf9QVXHkUTPLYcWSW5XvDzwOfG24J6RmJvPIfz4ccu7fv/kMNcdqzS6bGEH+7Bwe+Lt7Q85d6XO51ud9kjiP/+4TnG8eKTn041UVR7+BySsKrRgo1FUVpY8YsJ5BbZLB2psu0NEaMmyCS7a+tN8VPoMrfi7X+rxrjNPR2jFSclRo+GxVxdGvY3JygNV3uS0p8fgqG+/Uis+AXs+gOTQP/N295M/OsbQ4wpmqPjrNf/7Js4NPXQD1ksb4RXX+pBfYtavPqrJYuzfvrl19lbAF2OLzz9miUXcNPNRS1yIJIgBorgu9W7aGV6orjtwHQMVRS8ti21wsjSobfNxUN+QW4mKMCv8uKCgb5qmmsy1BlEYSRFzRFa4gYy9BtDv0CtJYLwki+jXWNYccK8M19hLEq7whf3RLfcvl2yWLsUtrTcuZ0J37e+O7x16CnDz56wbg8mWjp6uXCy0dI7xCjAXnmzvo6QrZwael7sQJ26aC27pgSsHJwcfSDhFOan+Azbdg05oyFIsGjpvqW/DNzTUlVtnBU/zq5weoLatDociePoWlGxcxvTiye2lLnNFpqg9rf4T1dlrN1pmC6RlZ84CSgeOJORkU3OiLeJzdW/bw0r+8Tuu5NoJ9BsG+IK3n2ji8+ygutwtfIDJJKXFG78g7x0KmqGitX2hrbdgd8UDXyN4rCEbZ4MH8JhN6sk59UMnO536Fcrvwf7aYyUtngFbU/+oYVb84yM5n3yVn5hQKikaXmBInMprqQxvoymXvFcTWNohLh/7xzbWRv+/gnhffR2uNb+188tfOJ358EvHpifjWLSBv7QK01ux96YDEsSlOuOba0CqWYXMbxNYECQZD+7ebz7Sgjch29dYc779cT146Y8hjUy6di8SsYYkzetrQtJwNu4L0uU4O83RL2Jog1dUftgCXV+D39vRdZYrzJ9fd2b+bSkJmypDHEib0nwtfhCNxrIszWHvTeXp7QuYhNl76jtjGAftihc3JCuvFEGNH+Ag6NlevwBEJokMTpFbGQsaq5vAGuiQIEPafEN6LIcaOprAGut2DhOCABBkyq7dWqlhjVXNYN7/S9nbxggMSxHC7pA0iAGgMn2aig5Ig4zw9JwYft5xpw4hwV69wPsPQtJ5tCznn9fba2sULDkiQ48ePnwfODhwH+4K0NbTbWCJhh7Zz7eEbwp05efKk7V8E2xPkktABQ5nVO+YMnaRofwMdnJIgWsZCxrrwpQ5aa0mQAcplyBVkjGsOv4LYPElxgCMSxAi7gjTWyVjIWNMU9pk7YQwEHJIg7vDBwqFTDkSMC681hM/0tosjEqSz032SQdtItp1twwgaNpZIWMkIGrScC+ni1Z2drlN2lWcwRyTI2bOHO4D6geOgMeQ/TMSwlrOtoT+IirpL3wnbOSJBLpGG+hgV3v5AO6P9AQ5OkCH/aSJmNTtwmvsAxySIDvvVCO/2E7Fr6HZPzmigg4MSJHzm5hUWz4gYFb5Zh3LAJMUBjkkQwxOUNsgYFX4FMTxyBRlCd48/BVzuymhraCfYGxzhFSIWBHuDtDeGzEk0jK60crvKE84xCXL69N6LwOmBY8PQtJyVrt5Y13ymNXx5Q82l74IjOCZBLpFJi2PM0M0CnVO9AocliFZhGzhIOyTmDdmkwyGzeAc4KkHCNyo2YytS4SxDZ/E6ZwwEHJYgQ8ZCZAugmBf+I2hIFWt4Lh2+gYMkSKwL/xF0a/tut3YljkqQpCSjHLjct3uFrShFDOnt6aO9JWSr2WBiYrDCrvJciaMSpLS0tAeoHji+0mbGInY017eGb1Zedek74BiOShAYupIsfDt8ETvCJyk6ZRXhYI5LkPDdLGQr0tgVvlGcU3YyGcxxCaLDdziRsZCYFb7VaPhn7wSOSxDlCkZ0fXp8YhwAXU3nhzzW1dh/blxywqhiSJzrE/7jp7QhCXI1wSELp0Z3BcmdNRWA+ndPDHms/lfHAciZmT2qGBLn+oRfQYIOmsU7wHEJcjovqwK4fCf5Cy0ddHddf8fG0o03oZSi+pVDVO44RHdLJ90tnVTuOEj1K79GKcXSjYuu/kYSJ6Jxurt6uNASsuy8N2t8QtWoCx5h6upPsV6eP3BCwfSB44f/8Ytk+Sdd9/u9vW0vbz79zpDzSilW3Pdpbt20+LrfW+Jcn/ryszz1x/89+NSJqorSmdf9hiax9T7pwxk/PmsV6uME8RflMyl3wnW/X34gl9xZ2XS0dNLR3onb68YXyGXdl29n/m1zI1JmifPJVJWe5uie44NP7WtrbXh2VG9qAlvvkz4c5dJletD4USRWFxbO91M43z/q95E4kTGkB0s5r4sXHNgGgaGTFqWrN/YM6cFy4BgIODRBXGEzOmV9euwZupu783qwwKEJYhihMzobZVZvzAkf33LpPkmQa1VVdbgKuHyX+o7Wjss3thfRr7uzh872kGXn3ZWVN9TYVZ6RODJB6N/dJGTas2wkFzuusOdZOWxz5BY2Tk2QoZMWZSvSmDHkds8ObaCDgxNEw7HBx9UfnR7uqSLKVB+tDTnWcHyYp9rOyQmyf/Dx4bePyt1vY0DbuTY+fPto6Eml9tlTmqtz5Eg6QEL8lCqPVz8EjAPo6+nj+P6TpE9OIyU9CY/XkWOcYhjdnT2cPFTO9h/u4HxzyByslt7uhIfPn6/vHe61dnLkXKwB+f65j4L+gd3lECZSPFJVXvpDu4sxHMdWsQCqKmb/SMEv7C6HMIlSL1aVz/mx3cUYiWOrWP2O6gkT0n5uGJ5MFAtx+BVPXDMNPOF1dz/Y3PyuI6tWA6LmC5efP3sBLtdDQAmQA4x+2ZywUhf9m5PvVJonKitLP7C7QEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBjq/wGFmlHdVwX3sAAAAABJRU5ErkJggg==",className:_.a.OrderSuccessImage})}),Object(m.jsx)("p",{className:"text text_type_main-small",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(m.jsx)("p",{className:"text text_type_main-small text_color_inactive",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},C=n(24),N=n.n(C),E=n(3),w=n.n(E),k=n(7),A=n(25),T=n.n(A),S="norma.nomoreparties.space",L="wss://".concat(S),D="https://".concat(S),B="ADD_BUN",R="ADD_INGREDIENT",P="REMOVE_INGREDIENT",J="MOVE_INGREDIENT",z="MAKE_ORDER",F="MAKE_ORDER_FAILED",G="MAKE_ORDER_SUCCESS",X="NEW_ORDER",M=function(e){return{type:F,message:e}},Q="START_FETCHING_ORDERS",Y="NEW_ORDER_CAME",W="UPDATE_TOTALS",H="CLEAR_ORDERS",V=function(){return{type:Q}},U=function(e){return{type:Y,payload:e}},Z=function(){return{type:H}},q="WS_CONNECTION_START",K="WS_SEND_MESSAGE",$="WS_CLOSE",ee=function(e,t){return{type:q,url:e,actions:t}},te=function(){return{type:$}},ne="".concat(D,"/api/orders"),re=function(){var e=Object(k.a)(w.a.mark((function e(t,n,r){var c,a,s,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:z}),c={ingredients:n.map((function(e){return e._id}))},a=T.a.get("accessToken"),e.next=5,fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:a||""},body:JSON.stringify(c)});case 5:if(!(s=e.sent).ok){e.next=13;break}return e.next=9,s.json();case 9:(i=e.sent).success?r((o=i.order.number,u=i.success,{type:G,No:o,success:u})):r(M(i.message)),e.next=14;break;case 13:r(M(s.status.toString()));case 14:case"end":return e.stop()}var o,u}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ce="".concat(L,"/orders/all"),ae="".concat(L,"/orders"),se=function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(ee(n,{onOpen:V,onMessage:U}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ie=function(){return function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Z()),e.next=4,se(t,ce);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},oe=n(2),ue="".concat(D,"/api/"),de=ue+"auth/user",le=function(){var e=T.a.get("accessToken");return Object(oe.a)(Object(oe.a)({},{"Content-Type":"application/json",Accept:"application/json"}),{},{Authorization:e||""})},je=function(){var e=Object(k.a)(w.a.mark((function e(t,n,r){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"PATCH",headers:r,body:JSON.stringify(n)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),be=function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"GET",headers:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pe=function(){return me((function(){return be(de,le())}))},fe=function(){var e=Object(k.a)(w.a.mark((function e(t,n,r){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(){return je(de,{name:t,password:n,email:r},le())},e.abrupt("return",me(c));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(k.a)(w.a.mark((function e(t,n,r){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",headers:r,body:JSON.stringify(n)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),me=function(){var e=Object(k.a)(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!(n=e.sent).ok){e.next=14;break}return e.next=6,n.json();case 6:if(!(r=e.sent).success){e.next=11;break}return e.abrupt("return",r);case 11:throw new Error(r.message);case 12:e.next=15;break;case 14:throw new Error("request failed");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(k.a)(w.a.mark((function e(t,n){var r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){return Oe(t,n,{"Content-Type":"application/json",Accept:"application/json"})},e.next=3,me(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),xe=ue+"auth/logout",ge=function(){var e=Object(k.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",he(xe,{token:localStorage.getItem("refreshToken")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=ue+"auth/login",ye=function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(ve,{email:t,password:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_e=ue+"auth/register",Ie=function(){var e=Object(k.a)(w.a.mark((function e(t,n,r){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",he(_e,{email:r,password:n,name:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ce=ue+"password-reset",Ne=function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",he(Ce,{email:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=ue+"password-reset/reset",we=function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",he(Ee,{password:t,token:n}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ke="LOGIN",Ae="LOGOUT",Te="RESET_PASSWORD",Se="SAVE_PASSWORD",Le="REGISTER",De="UPDATE_PROFILE",Be="LOAD_PROFILE_FAILED",Re=function(e){return{type:Le,data:e}},Pe=function(e){return{type:De,user:e}},Je=function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(t);case 2:n({type:Te});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ze=function(){var e=Object(k.a)(w.a.mark((function e(t,n,r){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(t,n);case 2:r({type:Se});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(k.a)(w.a.mark((function e(t,n,r,c){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(t,n,r);case 2:a=e.sent,c(Re(a));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,c){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(k.a)(w.a.mark((function e(t,n,r,c){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(t,n,r);case 2:a=e.sent,c(Pe(a));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,c){return e.apply(this,arguments)}}(),Me=function(){var e=Object(k.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe();case 2:n=e.sent,t(Pe(Object(oe.a)({},n)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){return function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me(t);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("profile failed",e.t0.message),t({type:Be});case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},Ye=n(46),We=function(){return Object(Ye.b)()},He=Ye.c,Ve=function(e,t){return"CALC_TOTAL_PRICE"===t.type?t.ingredients.reduce((function(e,t){return e+t.price}),0):e},Ue=function(){var e=He((function(e){return e.burgerConstruct})),t=e.currentOrderIsLoading,n=e.currentOrderFailed,r=We();return Object(m.jsx)(v,{show:n||t,caption:"",closeHandler:function(){r({type:X})},children:Object(m.jsx)("div",{className:_.a.OrderDetails,children:Object(m.jsx)("p",{className:"text text_type_main-medium",children:t?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u0435\u043b \u0441\u0431\u043e\u0439 \u0432 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043a\u0430\u0437\u0430"})})})},Ze=function(e){var t=e.ingredients,n=He((function(e){return e.burgerConstruct.currentOrder})),c=He((function(e){return e.burgerConstruct.hasBun})),a=We(),s=""!==He((function(e){return e.authReducer.currentUser.name})),i=Object(r.useCallback)((function(){a(Qe())}),[a]);Object(r.useLayoutEffect)((function(){i()}),[i]);var o=Object(r.useReducer)(Ve,0),u=Object(b.a)(o,2),l=u[0],j=u[1];Object(r.useLayoutEffect)((function(){j({type:"CALC_TOTAL_PRICE",ingredients:t})}),[t]);var f=Object(d.h)();return Object(m.jsxs)("div",{className:N.a.totalBar,children:[Object(m.jsxs)("div",{className:N.a.priceCurrency,children:[Object(m.jsx)("span",{className:"text text_type_digits-medium",children:l}),Object(m.jsx)(p.CurrencyIcon,{type:"primary"})]}),Object(m.jsx)(p.Button,{size:"large",onClick:function(){s?c&&a(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,re(ne,e,n);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),n(M(t.t0.message));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()}(t)):f("/login")},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"}),Object(m.jsx)(Ue,{}),Object(m.jsx)(v,{show:!!n.No,caption:"",closeHandler:function(){a({type:X})},children:Object(m.jsx)(I,{No:n.No?n.No:0,success:!!n.success&&n.success})})]})},qe=function(e,t){var n="";return"bottom"===t?n="(\u043d\u0438\u0437)":"top"===t&&(n="(\u0432\u0435\u0440\u0445)"),"".concat(e,"\n").concat(n)},Ke=function(e){return!["bottom","top"].includes(void 0===e?"":e)},$e=function(){return Object(m.jsx)("div",{className:N.a.dragIcon,children:Object(m.jsx)(p.DragIcon,{type:"primary"})})},et=function(e){var t=e.id,n=e.name,r=e.type,c=e.price,a=e.image,s=e.isLocked,i=We();return Object(m.jsxs)("div",{className:N.a.chosenItem,children:[Ke(r)&&Object(m.jsx)($e,{}),Object(m.jsx)(p.ConstructorElement,{type:r,isLocked:s,text:qe(n,r),price:c,thumbnail:a,handleClose:function(){i({type:P,index:t})}})]})},tt=n(207),nt=n(208),rt=function(e){var t=e.id,n=e.data,r=e.type;return Object(m.jsx)("li",{children:Object(m.jsx)(et,Object(oe.a)(Object(oe.a)({id:t},n),{},{type:r,isLocked:!0}))},t)},ct=function(e){var t=e.id,n=e.data,c=Object(r.useRef)(null),a=We(),s=Object(nt.a)({type:"ingredientInBurger",item:{id:t}}),i=Object(b.a)(s,2)[1],o=Object(tt.a)({accept:"ingredientInBurger",drop:function(e){var n;a((n=parseInt(e.id),{type:J,whatIndex:n,whereIndex:t}))}});return i((0,Object(b.a)(o,2)[1])(c)),Object(m.jsx)("li",{ref:c,children:Object(m.jsx)(et,Object(oe.a)(Object(oe.a)({id:t,type:void 0},n),{},{isLocked:!1}))},t)},at=function(e){var t,n,r,c,a=e.ingredients,s=function(e,t,n){return Object(m.jsx)(rt,{id:e,data:t,type:n})},i=function(){return a.length},o=function(){return 0!==a.length},u=We(),d=He((function(e){return e.burgerConstruct.hasBun})),l=function(e){var t;e.isBun?u((t=e.id,{type:B,id:t})):u(function(e){return{type:R,id:e}}(e.id))},j=Object(tt.a)({accept:"ingredient",drop:function(e){l(e)}}),p=Object(b.a)(j,2)[1];return d?(t=1,n=i()-1):(t=0,n=i()),Object(m.jsxs)("ul",{className:N.a.ingredientList,ref:p,"data-cy":"ingredientList",children:[o()&&d?(r=0,c=Object(oe.a)({},a[0]),s(r,c,"top")):"",o()?function(e,t){return Object(m.jsx)("div",{className:N.a.dynamicPart,children:a.slice(e,t).map((function(e,t){return n=t,r=e,Object(m.jsx)(ct,{id:n,data:r},n);var n,r}))})}(t,n):"",o()&&d?function(e,t){return s(e,t,"bottom")}(a.length-1,Object(oe.a)({},a[0])):""]})},st=function(){var e=He((function(e){return{allIngredients:e.ingredientsReducer.ingredients,ids:e.burgerConstruct.chosenIngredients}})),t=e.ids,n=e.allIngredients,r=[];return t.forEach((function(e){var t=n.find((function(t){return t._id===e}));t&&r.push(t)})),Object(m.jsxs)("section",{className:N.a.burgerConstructor,children:[Object(m.jsx)(at,{ingredients:r}),Object(m.jsx)(Ze,{ingredients:r})]})},it="LOAD_INGREDIENTS",ot="LOAD_INGREDIENTS_FAILED",ut="LOAD_INGREDIENTS_SUCCESS",dt="CHANGE_CURRENT_INGREDIENT",lt="CLEAR_CURRENT_INGREDIENT",jt="CHANGE_CURRENT_CATEGORY_BY_DISTANCE",bt="CHANGE_CURRENT_CATEGORY_BY_ID",pt="ADD_CATEGORY_ID",ft=function(){return{type:ot}},Ot=function(e){return{type:dt,id:e}},mt=function(e){return{type:bt,id:e}},ht=n(16),xt=n.n(ht),gt=function(e){var t=e.id,n=e.name,r=e.image,c=e.price,a=void 0===c?0:c,s=e.isBun,i=void 0!==s&&s,o=He((function(e){return e.burgerConstruct.chosenIngredients})).filter((function(e){return e===t})).length,u=Object(nt.a)({type:"ingredient",item:{id:t,isBun:i}}),d=Object(b.a)(u,2)[1];return Object(m.jsxs)("div",{className:xt.a.menuItem,children:[o?Object(m.jsx)("span",{className:xt.a.menuItemCounter,children:Object(m.jsx)(p.Counter,{count:o})}):"",Object(m.jsxs)("div",{ref:d,children:[Object(m.jsx)("img",{src:r,alt:"no img"}),Object(m.jsxs)("p",{className:"text text_type_digits-default",children:[a," ",Object(m.jsx)(p.CurrencyIcon,{type:"primary"})]}),Object(m.jsx)("p",{children:n})]})]})},vt=function(e){var t=e.id,n=e.name,r=e.image,c=e.price,a=e.isBun,s=void 0!==a&&a,i=We();return Object(m.jsx)("span",{onClick:function(){i(Ot(t))},children:Object(m.jsx)(gt,{id:t,image:r,price:c,name:n,isBun:s})})},yt=function(e){var t=e.title;return Object(m.jsx)("p",{id:t,className:"".concat(xt.a.title," text text_type_main-medium"),children:t})},_t=function(e){var t=e.children;return Object(m.jsx)("div",{className:"".concat(xt.a.categoryList," ").concat(xt.a.ingredientGrid),children:t})},It=function(e){var t=e.code,n=e.title,r=He((function(e){return e.ingredientsReducer.ingredients})).filter((function(e){return e.type===t})),c=function(e){return a(e)},a=function(e){return Object(m.jsx)(vt,{id:e._id,name:e.name,image:e.image,price:e.price,isBun:"bun"===e.type},e._id)};return Object(m.jsxs)("div",{className:xt.a.category,children:[Object(m.jsx)(yt,{title:n}),Object(m.jsx)(_t,{children:r.map((function(e){return c(e)}))})]})},Ct=function(e){var t=e.title,n=He((function(e){return e.ingredientsReducer.currentCategory})),r=We();return Object(m.jsx)(p.Tab,{onClick:function(){return e=t,document.getElementById(e).scrollIntoView(),void r(mt(t));var e},active:n===t,value:t,children:t})},Nt=function(e){var t=e.titles,n=We();Object(r.useEffect)((function(){t&&t[0]&&n(mt(t[0]))}),[n]);return Object(m.jsx)("div",{className:xt.a.categoryBar,children:t.map((function(e,t){return Object(m.jsx)(Ct,{title:e},t)}))})},Et=n(55),wt=n.n(Et),kt=Object(r.memo)((function(e){var t=e.children;return Object(m.jsx)("p",{className:"text text_type_main-small text_color_inactive",children:t})})),At=Object(r.memo)((function(e){var t=e.children;return Object(m.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:t})})),Tt=function(){var e=He((function(e){return e.ingredientsReducer.currentIngredient}));return Object(r.useEffect)((function(){window.history.replaceState(null,"","/ingredients/"+e._id)}),[e._id]),Object(m.jsx)("div",{className:wt.a.container,children:Object(m.jsx)("div",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{src:e.image,alt:e.name}),Object(m.jsx)("p",{className:"".concat(wt.a.name," text text_type_main-medium"),children:e.name}),Object(m.jsxs)("div",{className:wt.a.subInfo,children:[Object(m.jsx)(kt,{children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b"}),Object(m.jsx)(kt,{children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(m.jsx)(kt,{children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(m.jsx)(kt,{children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(m.jsx)(At,{children:e.calories}),Object(m.jsx)(At,{children:e.proteins}),Object(m.jsx)(At,{children:e.fat}),Object(m.jsx)(At,{children:e.carbohydrates})]})]})})})},St=n(105),Lt=function(e,t){e.forEach((function(e){var n;t((n=e.title,{type:pt,id:n}))}))},Dt=function(e){var t=e.children,n=Object(r.useRef)(null),c=We();return Object(r.useEffect)((function(){n&&n.current&&n.current.addEventListener("scroll",(function(e){var t;n&&n.current&&c((t=n.current.getBoundingClientRect().y,{type:jt,distance:t}))}))}),[n,c]),Object(m.jsx)("div",{className:xt.a.categoryBlock,ref:n,children:t})},Bt=function(){return Object(m.jsx)("p",{className:"".concat(xt.a.title," text text_type_main-large"),children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"})},Rt=function(){var e=We(),t=He((function(e){return e.ingredientsReducer.ingredients})),n=He((function(e){return e.ingredientsReducer.currentIngredient})),c=function(e){var t=Array.from(new Set(e.map((function(e){return e.type}))).values()),n=St;return t.map((function(e){return n[e]?{code:e,title:n[e].ru}:{code:e,title:e}}))}(t);return Object(r.useEffect)((function(){Lt(c,e)}),[c,e]),Object(m.jsxs)("section",{className:xt.a.ingredientsMenu,children:[Object(m.jsx)(Bt,{}),Object(m.jsxs)("div",{className:xt.a.menuContent,children:[Object(m.jsx)(Nt,{titles:c.map((function(e){return e.title}))}),Object(m.jsx)(Dt,{children:c.map((function(e){return Object(m.jsx)(It,{code:e.code,title:e.title},e.code)}))})]}),Object(m.jsx)(v,{caption:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",show:!!n._id,closeHandler:function(){window.history.replaceState(null,"","/constructor"),e({type:lt})},children:Object(m.jsx)(Tt,{})})]})},Pt=function(e){var t=e.children;return Object(m.jsx)("p",{className:"text text_type_main-medium",children:t})},Jt=function(){var e=He((function(e){return e.ingredientsReducer})),t=e.loadingFailed,n=e.isLoading;return t?Object(m.jsx)(Pt,{children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445"}):n?Object(m.jsx)(Pt,{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Rt,{}),Object(m.jsx)(st,{})]})},zt=function(){return Object(m.jsx)(l.a,{backend:j.a,children:Object(m.jsx)(Jt,{})})},Ft=n(13),Gt=n.n(Ft),Xt=function(){var e=We(),t=He((function(e){return e.authReducer.currentUser.name})),n=Object(d.h)();Object(r.useEffect)((function(){t&&n("/")}),[t,n]);var c=Object(r.useState)(""),a=Object(b.a)(c,2),s=a[0],i=a[1],o=Object(r.useState)(""),l=Object(b.a)(o,2),j=l[0],f=l[1],O=Object(r.useState)(""),h=Object(b.a)(O,2),x=h[0],g=h[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:Object(m.jsx)(u.b,{to:"/",children:Object(m.jsx)(p.Logo,{})})}),Object(m.jsx)("p",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e,t,n){return function(){var r=Object(k.a)(w.a.mark((function r(c){return w.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:Ge((function(){return Fe(e,t,n,c)}));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(s,j,x))},className:Gt.a.formContainer,children:[Object(m.jsx)(p.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:function(e){i(e.target.value)},value:s}),Object(m.jsx)(p.EmailInput,{name:"email",onChange:function(e){g(e.target.value)},value:x}),Object(m.jsx)(p.PasswordInput,{name:"password",onChange:function(e){f(e.target.value)},value:j}),Object(m.jsx)("p",{className:Gt.a.centered,children:Object(m.jsx)(p.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]}),Object(m.jsxs)("p",{className:Gt.a.centered,children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(m.jsx)(u.b,{to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},Mt={user:null,getUser:function(){var e=Object(k.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),signIn:function(){var e=Object(k.a)(w.a.mark((function e(t,n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),signOut:function(){var e=Object(k.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},Qt=Object(r.createContext)(Mt),Yt=function(e){var t=e.children,n=function(){var e=Object(r.useState)(null),t=Object(b.a)(e,2),n=t[0],c=t[1],a=function(){var e=Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe();case 3:t=e.sent,c({name:t.user.name,email:t.user.email}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Ht(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(k.a)(w.a.mark((function e(t,n){var r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye(t,n);case 3:r=e.sent,T.a.set("accessToken",r.accessToken),localStorage.setItem("refreshToken",r.refreshToken),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Ht(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(k.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge();case 3:T.a.remove("accessToken"),localStorage.removeItem("refreshToken"),c(null),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Ht(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return{user:n,getUser:a,signIn:s,signOut:i}}();return Object(m.jsx)(Qt.Provider,{value:n,children:t})};function Wt(){return Object(r.useContext)(Qt)}function Ht(e){console.log(e.message)}var Vt,Ut=function(){var e=Wt().signIn,t=Object(r.useState)(""),n=Object(b.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(""),i=Object(b.a)(s,2),o=i[0],l=i[1],j=Object(d.h)();return Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:Object(m.jsx)(u.b,{to:"/",children:Object(m.jsx)(p.Logo,{})})}),Object(m.jsx)("p",{children:"\u0412\u0445\u043e\u0434"}),Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(o,c).then((function(){j(-1)}))},className:Gt.a.formContainer,children:[Object(m.jsx)(p.EmailInput,{name:"email",value:o,onChange:function(e){l(e.target.value)}}),Object(m.jsx)(p.PasswordInput,{name:"password",value:c,onChange:function(e){a(e.target.value)}}),Object(m.jsx)(p.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(m.jsxs)("p",{children:["\u0412\u044b - \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c? ",Object(m.jsx)(u.b,{to:"/register",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(m.jsxs)("p",{children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? ",Object(m.jsx)(u.b,{to:"/forgot-password",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})},Zt=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Oops! 404 Error"}),Object(m.jsx)("p",{children:"The page you requested does not exist"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsxs)("p",{children:["check the address or try ",Object(m.jsx)(u.b,{to:"/",children:"homepage"})]})]})},qt=function(){var e=We(),t=He((function(e){return e.authReducer.resetSuccess})),n=Object(d.h)();Object(r.useEffect)((function(){t&&n("/reset-password",{state:{forgotPassed:!0}})}),[t,n]);var c=Object(r.useState)(""),a=Object(b.a)(c,2),s=a[0],i=a[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:Object(m.jsx)(u.b,{to:"/",children:Object(m.jsx)(p.Logo,{})})}),Object(m.jsx)("p",{children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(n){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ge((function(){return Je(e,n)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(s))},className:Gt.a.formContainer,children:[Object(m.jsx)(p.EmailInput,{name:"email",value:s,onChange:function(e){i(e.target.value)}}),Object(m.jsx)("p",{className:Gt.a.centered,children:Object(m.jsx)(p.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})})]}),Object(m.jsxs)("p",{className:Gt.a.centered,children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? ",Object(m.jsx)(u.b,{to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},Kt=n(31),$t=n.n(Kt),en=function(){return Object(m.jsx)("div",{className:$t.a.navListContainer,children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(tn,{to:"/profile/settings",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(m.jsx)("li",{children:Object(m.jsx)(tn,{to:"/profile/orders",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(m.jsx)("li",{children:Object(m.jsx)(tn,{to:"/logout",children:"\u0412\u044b\u0439\u0442\u0438"})})]})})},tn=function(e){var t=e.children,n=e.to;return Object(m.jsx)(u.c,{to:n,className:function(e){var t=e.isActive;return"".concat(t?$t.a.active:$t.a.inactive," ").concat($t.a.navLink)},children:Object(m.jsx)("p",{className:"text text_type_main-default",children:t})})},nn=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:$t.a.profileContainer,children:[Object(m.jsx)("section",{children:Object(m.jsx)(en,{})}),Object(m.jsx)("section",{children:Object(m.jsx)(d.b,{})})]})})},rn=n(30),cn=n(28),an={ingredients:[],currentIngredient:{_id:"",name:"",type:"",proteins:0,fat:0,carbohydrates:0,calories:0,price:0,image:"",image_mobile:"",image_large:"",__v:0},currentCategory:void 0,categoryIds:[],isLoading:!1,loadingFailed:!1},sn=function(e,t){var n,r=99999,c=document;return e.forEach((function(e){var a=Math.abs(t-c.getElementById(e).getBoundingClientRect().y);a<r&&(r=a,n=e)})),n},on={chosenIngredients:[],hasBun:!1,currentOrder:{},currentOrderFailed:!1,currentOrderIsLoading:!1},un={currentUser:{loaded:!1,name:"",email:"",password:""},accessToken:"",refreshToken:"",resetSuccess:!1,savePasswordSuccess:!1,logoutSuccess:!1},dn={total:0,totalToday:0,orders:[]},ln=Object(rn.b)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return Object(oe.a)(Object(oe.a)({},e),{},{currentUser:Object(oe.a)(Object(oe.a)({},e.currentUser),{},{name:t.data.user.name,email:t.data.user.email}),accessToken:t.data.accessToken,refreshToken:t.data.refreshToken});case Ae:var n=Object(oe.a)(Object(oe.a)({},un),{},{logoutSuccess:!0});return n;case Te:return Object(oe.a)(Object(oe.a)({},e),{},{resetSuccess:!0});case Se:return Object(oe.a)(Object(oe.a)({},e),{},{resetSuccess:!1,savePasswordSuccess:!0});case Le:return Object(oe.a)(Object(oe.a)({},e),{},{currentUser:Object(oe.a)(Object(oe.a)({},e.currentUser),{},{name:t.data.name,email:t.data.email}),accessToken:t.data.accessToken,refreshToken:t.data.refreshToken});case De:var r=Object(oe.a)(Object(oe.a)({},e),{},{currentUser:Object(oe.a)(Object(oe.a)({},e.currentUser),{},{loaded:!0,name:t.user.name,email:t.user.email})});return r;case Be:return Object(oe.a)(Object(oe.a)({},e),{},{currentUser:Object(oe.a)(Object(oe.a)({},e.currentUser),{},{loaded:!0})});default:return e}},ingredientsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case it:return Object(oe.a)(Object(oe.a)({},e),{},{isLoading:!0,loadingFailed:!1});case ot:return Object(oe.a)(Object(oe.a)({},e),{},{isLoading:!1,loadingFailed:!0});case ut:return Object(oe.a)(Object(oe.a)({},e),{},{ingredients:t.ingredients,isLoading:!1,loadingFailed:!1});case dt:return Object(oe.a)(Object(oe.a)({},e),{},{currentIngredient:Object(oe.a)(Object(oe.a)({},e.currentIngredient),e.ingredients.find((function(e){return e._id===t.id})))});case lt:return Object(oe.a)(Object(oe.a)({},e),{},{currentIngredient:Object(oe.a)({},an.currentIngredient)});case pt:return e.categoryIds.includes(t.id)?e:Object(oe.a)(Object(oe.a)({},e),{},{categoryIds:[].concat(Object(cn.a)(e.categoryIds),[t.id])});case jt:return Object(oe.a)(Object(oe.a)({},e),{},{currentCategory:sn(e.categoryIds,t.distance)});case bt:return Object(oe.a)(Object(oe.a)({},e),{},{currentCategory:t.id});default:return e}},burgerConstruct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:if(e.hasBun){var n=Object(cn.a)(e.chosenIngredients);return n.pop(),n.shift(),n.push(t.id),n.unshift(t.id),Object(oe.a)(Object(oe.a)({},e),{},{chosenIngredients:n})}return Object(oe.a)(Object(oe.a)({},e),{},{hasBun:!0,chosenIngredients:[t.id].concat(Object(cn.a)(e.chosenIngredients),[t.id])});case R:if(e.hasBun){var r=Object(cn.a)(e.chosenIngredients);return r.splice(e.chosenIngredients.length-1,0,t.id),Object(oe.a)(Object(oe.a)({},e),{},{chosenIngredients:r})}var c=Object(cn.a)(e.chosenIngredients);return c.splice(e.chosenIngredients.length,0,t.id),Object(oe.a)(Object(oe.a)({},e),{},{chosenIngredients:c});case J:if(e.hasBun){var a=Object(cn.a)(e.chosenIngredients),s=a[t.whatIndex+1];return a.splice(t.whatIndex+1,1),a.splice(t.whereIndex+1,0,s),Object(oe.a)(Object(oe.a)({},e),{},{chosenIngredients:a})}var i=Object(cn.a)(e.chosenIngredients),o=i[t.whatIndex];return i.splice(t.whatIndex,1),i.splice(t.whereIndex,0,o),Object(oe.a)(Object(oe.a)({},e),{},{chosenIngredients:i});case P:var u=Object(cn.a)(e.chosenIngredients);return u.splice(t.index+1,1),Object(oe.a)(Object(oe.a)({},e),{},{chosenIngredients:u});case z:return Object(oe.a)(Object(oe.a)({},e),{},{currentOrderIsLoading:!0,currentOrderFailed:!1});case G:return Object(oe.a)(Object(oe.a)({},e),{},{currentOrder:{No:t.No,success:t.success},currentOrderIsLoading:!1,currentOrderFailed:!1,chosenIngredients:[],hasBun:!1});case F:return Object(oe.a)(Object(oe.a)({},e),{},{currentOrderIsLoading:!1,currentOrderFailed:!0});case X:return Object(oe.a)(Object(oe.a)({},e),{},{currentOrder:{},currentOrderFailed:!1,currentOrderIsLoading:!1});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(oe.a)({},e);case Y:var n=t.payload;return n.orders.forEach((function(t){var n=e.orders.some((function(e){return e.id===t.number}));if(n){var r=e.orders.find((function(e){return e.id===t.number}));r&&r.status!==t.status&&(r.status=t.status)}else e.orders.push({id:t.number,fullname:t.name,status:t.status,createdAt:t.createdAt,ingredientIds:t.ingredients})})),Object(oe.a)(Object(oe.a)({},e),{},{total:n.total,totalToday:n.totalToday});case W:return Object(oe.a)(Object(oe.a)({},e),{},{total:t.total,totalToday:t.totalToday});case H:return Object(oe.a)({},dn);default:return e}}}),jn=n(106),bn=n(108),pn=["success"],fn=function(e){var t=null;return function(n){return function(r){var c=e.dispatch;if(r.type===q)(t=new WebSocket("".concat(r.url)))&&(t.onopen=function(e){c(r.actions.onOpen(e))},t.onerror=function(e){r.actions.onError&&c(r.actions.onError(e))},t.onmessage=function(e){var t=e.data,n=JSON.parse(t),a=(n.success,Object(bn.a)(n,pn));c(r.actions.onMessage(a))},t.onclose=function(e){r.actions.onClose&&c(r.actions.onClose(e))});else if(r.type===K){var a=r.payload;t&&t.send(a)}else r.type===$&&t&&t.close();n(r)}}},On=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):rn.c)(Object(rn.a)(jn.a,fn)),mn=Object(rn.d)(ln,On),hn=function(){var e=We(),t=Object(d.g)(),n=Object(d.h)(),c=He((function(e){return e.authReducer.savePasswordSuccess}));Object(r.useEffect)((function(){t.state&&t.state.forgotPassed?c&&n("/login",{state:{resetPassed:!0}}):n(-1)}),[c,n,t.state]);var a=Object(r.useState)(""),s=Object(b.a)(a,2),i=s[0],o=s[1],l=Object(r.useState)(""),j=Object(b.a)(l,2),f=j[0],O=j[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:Object(m.jsx)(u.b,{to:"/",children:Object(m.jsx)(p.Logo,{})})}),Object(m.jsx)("p",{children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e,t){return function(){var n=Object(k.a)(w.a.mark((function n(r){return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Ge((function(){return ze(e,t,r)}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(i,f))},className:Gt.a.formContainer,children:[Object(m.jsx)(p.PasswordInput,{name:"password",onChange:function(e){o(e.target.value)},value:i}),Object(m.jsx)(p.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:function(e){O(e.target.value)},value:f}),Object(m.jsx)("p",{className:Gt.a.centered,children:Object(m.jsx)(p.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]}),Object(m.jsxs)("p",{className:Gt.a.centered,children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? ",Object(m.jsx)(u.b,{to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},xn=function(e){var t=e.children,n=Wt(),c=n.getUser,a=n.user,s=Object(r.useState)(!1),i=Object(b.a)(s,2),o=i[0],u=i[1];return Object(r.useLayoutEffect)((function(){c().then((function(){u(!0)}))}),[]),o?Object(m.jsx)(m.Fragment,{children:a?t:Object(m.jsx)(d.a,{to:{pathname:"/login"}})}):null},gn=function(){var e=Wt(),t=e.user,n=e.signOut;return Object(r.useLayoutEffect)((function(){n().then((function(){}))}),[]),Object(m.jsx)(m.Fragment,{children:t?Object(m.jsx)("p",{children:"\u0412\u044b\u0445\u043e\u0434..."}):Object(m.jsx)(d.a,{to:"/login"})})},vn=function(){var e=Object(d.i)().id,t=We(),n=He((function(e){return e.ingredientsReducer})),c=n.ingredients,a=n.currentIngredient;Object(r.useLayoutEffect)((function(){c.length&&e&&t(Ot(e))}),[c,t,e]),Object(r.useLayoutEffect)((function(){}),[a,t]);return Object(m.jsxs)(m.Fragment,{children:[c.length&&!function(e){return c.some((function(t){return t._id===e}))}(e)?Object(m.jsx)(d.a,{to:"/page404"}):"",a._id&&c.length?Object(m.jsx)(Tt,{}):Object(m.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})]})},yn=n(47),_n=n.n(yn),In=function(e){var t=e.title,n=e.icon,r=e.to,c=n;return Object(m.jsx)(u.b,{to:r,children:Object(m.jsx)("span",{className:_n.a.NavButton,children:Object(m.jsxs)(p.Button,{type:"secondary",size:"medium",children:[Object(m.jsx)(c,{type:"primary",className:_n.a.NavButtonIcon}),Object(m.jsx)("div",{className:"".concat(_n.a.NavButtonTitle," text text_type_main-default"),children:t})]})})})},Cn=function(){return Object(m.jsxs)("header",{className:_n.a.AppHeader,children:[Object(m.jsx)(In,{title:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440",icon:p.BurgerIcon,to:"/constructor"}),Object(m.jsx)(In,{title:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432",icon:p.MenuIcon,to:"/feed"}),Object(m.jsx)(u.b,{to:"/",children:Object(m.jsx)(p.Logo,{})}),Object(m.jsx)(In,{title:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",icon:p.ProfileIcon,to:"/profile"})]})},Nn=function(e){var t=e.children,n=Wt(),c=n.getUser,a=n.user,s=Object(r.useState)(!1),i=Object(b.a)(s,2),o=i[0],u=i[1];return Object(r.useLayoutEffect)((function(){c().then((function(){u(!0)}))}),[]),o?Object(m.jsx)(m.Fragment,{children:a?Object(m.jsx)(d.a,{to:"/"}):t}):null},En="".concat(D,"/api/ingredients"),wn=function(){var e=Object(k.a)(w.a.mark((function e(t,n){var r,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:it}),e.next=3,fetch(t);case 3:if(!(r=e.sent).ok){e.next=11;break}return e.next=7,r.json();case 7:c=e.sent,n((a=c.data,{type:ut,ingredients:a})),e.next=12;break;case 11:n(ft());case 12:case"end":return e.stop()}var a}),e)})));return function(t,n){return e.apply(this,arguments)}}(),kn=n(78),An=n.n(kn),Tn=n(33),Sn=n.n(Tn),Ln=n(206);!function(e){e.DONE="done",e.CREATED="created",e.CANCELLED="cancelled",e.PENDING="pending"}(Vt||(Vt={}));var Dn=n(209),Bn=n(26),Rn=n.n(Bn),Pn=Object(r.memo)((function(e){var t=e.children;return Object(m.jsx)("span",{className:"text text_type_digits-small text_color_inactive",children:t})})),Jn={lastWeek:"'Last' eeee",tomorrow:"'Tomorrow'",nextWeek:"'Next' eeee",yesterday:"\u0412\u0447\u0435\u0440\u0430, HH:mm z",today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f, HH:mm z",other:"dd.MM.yyyy"},zn=Object(oe.a)(Object(oe.a)({},Dn.a),{},{formatRelative:function(e){return Jn[e]}}),Fn=function(e){switch(e){case Vt.DONE:return"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d";case Vt.CREATED:return"\u0421\u043e\u0437\u0434\u0430\u043d";case Vt.PENDING:return"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f";case Vt.CANCELLED:return"\u041e\u0442\u043c\u0435\u043d\u0435\u043d";default:return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}},Gn=function(e){switch(e){case Vt.DONE:return"#009393";case Vt.CANCELLED:return"red";default:return"white"}},Xn=function(e,t){return e.reduce((function(e,n){var r=t.find((function(e){return e._id===n}));return r?r.price+e:e}),0)},Mn=function(e){var t=e.id,n=e.fullname,c=e.status,a=e.createdAt,s=e.ingredientIds;Object(r.useEffect)((function(){window.history.replaceState(null,"","/feed/"+t)}),[t]);var i=Object(Ln.a)(new Date(a),new Date,{locale:zn}),o=He((function(e){return e.ingredientsReducer.ingredients})),u=Xn(s,o);return Object(m.jsxs)("div",{className:Rn.a.container,children:[Object(m.jsx)("p",{className:"".concat(Rn.a.fullname," text text_type_main-medium"),children:n}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{className:"text text_type_main-small",style:{color:Gn(c)},children:Fn(c)}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{className:"".concat(Rn.a.fullname," text text_type_main-default"),children:Object(m.jsx)("b",{children:"\u0421\u043e\u0441\u0442\u0430\u0432:"})}),Object(m.jsx)("ul",{className:Rn.a.content,children:s.map((function(e,t){var n=o.find((function(t){return t._id===e}));return n?Object(m.jsxs)("li",{className:Rn.a.ingredientRow,children:[Object(m.jsxs)("span",{className:Rn.a.ingredientRow,children:[Object(m.jsx)("img",{className:Rn.a.ingredientImage,src:n.image_mobile,alt:"no img"}),Object(m.jsx)("span",{className:"text text_type_main-small",children:n.name})]}),Object(m.jsxs)("span",{children:[Object(m.jsx)("span",{className:"text text_type_main-medium",children:n.price}),Object(m.jsx)("span",{className:Rn.a.currency,children:Object(m.jsx)(p.CurrencyIcon,{type:"primary"})})]})]},t):Object(m.jsx)(m.Fragment,{})}))}),Object(m.jsxs)("p",{className:Rn.a.ingredientRow,children:[Object(m.jsx)(Pn,{children:i}),Object(m.jsxs)("span",{children:[Object(m.jsx)("span",{className:"text text_type_main-medium",children:u}),Object(m.jsx)("span",{className:Rn.a.currency,children:Object(m.jsx)(p.CurrencyIcon,{type:"primary"})})]})]})]})},Qn=function(e){var t=e.id,n=e.createdAt,c=e.fullname,a=e.status,s=e.ingredientIds,i=Object(Ln.a)(new Date(n),new Date,{locale:zn}),o=He((function(e){return e.ingredientsReducer.ingredients})),u=Xn(s,o),d=Object(r.useState)(!1),l=Object(b.a)(d,2),j=l[0],f=l[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:Sn.a.itemContainer,onClick:function(){f(!0)},children:[Object(m.jsxs)("p",{className:Sn.a.oneLeftOneRight,children:[Object(m.jsxs)("span",{className:"text text_type_main-medium",children:["#",t]}),Object(m.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:i})]}),Object(m.jsx)("p",{className:"".concat(Sn.a.fullname," text text_type_main-small"),children:c}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{className:"text text_type_main-small",style:{color:Gn(a)},children:Fn(a)}),Object(m.jsxs)("p",{className:"".concat(Sn.a.ingredientIds," ").concat(Sn.a.oneLeftOneRight),children:[Object(m.jsx)("span",{children:s.map((function(e,t){var n=o.find((function(t){return t._id===e}));return Object(m.jsx)("img",{className:Sn.a.ingredientImage,src:n?n.image_mobile:"",alt:"no img"},t)}))}),Object(m.jsxs)("span",{children:[Object(m.jsx)("span",{className:"text text_type_main-medium",children:u}),Object(m.jsx)("span",{className:Sn.a.currency,children:Object(m.jsx)(p.CurrencyIcon,{type:"primary"})})]})]})]}),Object(m.jsx)(v,{show:j,caption:"#".concat(t),closeHandler:function(){f(!1)},children:Object(m.jsx)(Mn,{id:t,createdAt:n,fullname:c,status:a,ingredientIds:s})})]})},Yn=function(e){var t=e.items;return Object(m.jsx)("div",{className:"".concat(An.a.ordersContainer," ").concat(An.a.ordersList),children:t.map((function(e,t){return Object(m.jsx)(Qn,Object(oe.a)({},e),t)}))})},Wn=n(56),Hn=n.n(Wn),Vn=function(e){var t=e.children,n=e.title,r=e.color;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("p",{className:"text text_type_main-medium",children:[n,":"]}),Object(m.jsx)("div",{className:Hn.a.column,children:t.map((function(e,t){return Object(m.jsx)("p",{className:"text text_type_digits-default",style:{color:r},children:e},t)}))})]})},Un=function(e){return Object(m.jsxs)("section",{className:Hn.a.container,children:[Object(m.jsxs)("div",{className:Hn.a.columns,children:[Object(m.jsx)("div",{children:Object(m.jsx)(Vn,{title:"\u0413\u043e\u0442\u043e\u0432\u044b",color:"#009393",children:e.doneOrderIds})}),Object(m.jsx)("div",{children:Object(m.jsx)(Vn,{title:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435",children:e.pendingOrderIds})})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(m.jsx)("p",{className:"text text_type_digits-large",children:e.total})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(m.jsx)("p",{className:"text text_type_digits-large",children:e.totalToday})]})]})},Zn=function(){return Object(m.jsx)("p",{className:"".concat(Gt.a.feedTitle," text text_type_main-large"),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})},qn=function(){var e=He((function(e){return e.order})),t=e.orders,n=e.totalToday,c=e.total,a=We();Object(r.useEffect)((function(){return a(ie()),function(){a(te())}}),[a]);var s=function(e,t){return i(e).slice(0,t)},i=function(e){return t.filter((function(t){return t.status===e})).map((function(e){return e.id}))},o=s(Vt.DONE,5),u=s(Vt.PENDING,5);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("section",{className:Gt.a.feedContainer,children:[Object(m.jsx)(Zn,{}),Object(m.jsx)(Yn,{items:t})]}),Object(m.jsx)(Un,{doneOrderIds:o,pendingOrderIds:u,total:c,totalToday:n})]})},Kn=function(){var e=He((function(e){return e.order})).orders.slice().sort((function(e,t){var n=e.id,r=t.id;return n<r?1:n>r?-1:0})),t=We();return Object(r.useEffect)((function(){return t(function(){var e=Object(k.a)(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Z()),(n=T.a.get("accessToken"))&&(n=(n=n.replace("Bearer","")).trim()),r="".concat(ae,"?token=").concat(n),e.next=7,se(t,r);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),function(){t(te())}}),[t]),Object(m.jsx)("div",{className:$t.a.twoColumns,children:Object(m.jsx)(Yn,{items:e})})},$n=function(){var e=Object(d.i)().id,t=He((function(e){return e.order})).orders,n=We();Object(r.useEffect)((function(){return n(ie()),function(){n(te())}}),[n]);var c=parseInt(e||""),a=t.find((function(e){return e.id===c}));return Object(m.jsx)("section",{children:a?Object(m.jsx)(Mn,Object(oe.a)({},a)):Object(m.jsxs)("p",{className:"text text_type_main-large",children:["\u0417\u0430\u043a\u0430\u0437 #",e," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"]})})},er=function(){var e=Wt().user,t=e?e.name:"",n=e?e.email:"",c=We(),a=Object(r.useState)(t),s=Object(b.a)(a,2),i=s[0],o=s[1],u=Object(r.useState)(""),d=Object(b.a)(u,2),l=d[0],j=d[1],f=Object(r.useState)(n),O=Object(b.a)(f,2),h=O[0],x=O[1],g=Object(r.useCallback)((function(){o(i),j(l),x(h)}),[i,l,h]),v=Object(r.useCallback)((function(){o(t),j(l),x(n)}),[t,l,n]),y=Object(r.useCallback)((function(e){e.preventDefault(),v()}),[v]);Object(r.useEffect)((function(){c(Qe()),g()}),[]);return Object(m.jsxs)("div",{children:[Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(function(e,t,n){return function(){var r=Object(k.a)(w.a.mark((function r(c){return w.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Xe(e,t,n,c);case 3:r.next=8;break;case 5:r.prev=5,r.t0=r.catch(0),console.log(r.t0.message);case 8:case"end":return r.stop()}}),r,null,[[0,5]])})));return function(e){return r.apply(this,arguments)}}()}(i,l,h))},className:Gt.a.formContainer,children:[Object(m.jsx)(p.Input,{type:"text",placeholder:"\u0418\u043c\u044f",icon:"EditIcon",onChange:function(e){o(e.target.value)},value:i}),Object(m.jsx)(p.Input,{type:"email",placeholder:"e-mail",icon:"EditIcon",onChange:function(e){x(e.target.value)},value:h}),Object(m.jsx)(p.Input,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",icon:"EditIcon",onChange:function(e){j(e.target.value)},value:l}),Object(m.jsxs)("span",{children:[Object(m.jsx)(p.Button,{type:"secondary",size:"medium",onClick:y,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(m.jsx)(p.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),Object(m.jsx)("div",{children:Object(m.jsx)("p",{className:"text text_color_inactive",children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0430\u0448\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})})]})},tr=function(e){var t=e.children,n=We();return Object(r.useLayoutEffect)((function(){n(function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wn(En,t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),t(ft());case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}())}),[n]),Object(m.jsx)(m.Fragment,{children:t})};var nr=function(){return Object(m.jsx)(Yt,{children:Object(m.jsx)(Ye.a,{store:mn,children:Object(m.jsx)(tr,{children:Object(m.jsx)("div",{className:o.a.App,children:Object(m.jsxs)(u.a,{children:[Object(m.jsx)(Cn,{}),Object(m.jsx)("main",{children:Object(m.jsxs)(d.e,{children:[Object(m.jsx)(d.c,{path:"/",element:Object(m.jsx)(zt,{})}),Object(m.jsx)(d.c,{path:"/ingredients/:id",element:Object(m.jsx)(vn,{})}),Object(m.jsx)(d.c,{path:"/constructor",element:Object(m.jsx)(zt,{})}),Object(m.jsx)(d.c,{path:"register",element:Object(m.jsx)(Nn,{children:Object(m.jsx)(Xt,{})})}),Object(m.jsx)(d.c,{path:"login",element:Object(m.jsx)(Nn,{children:Object(m.jsx)(Ut,{})})}),Object(m.jsx)(d.c,{path:"logout",element:Object(m.jsx)(xn,{children:Object(m.jsx)(gn,{})})}),Object(m.jsx)(d.c,{path:"feed",element:Object(m.jsx)(qn,{})}),Object(m.jsx)(d.c,{path:"/feed/:id",element:Object(m.jsx)($n,{})}),Object(m.jsxs)(d.c,{path:"profile",element:Object(m.jsx)(xn,{children:Object(m.jsx)(nn,{})}),children:[Object(m.jsx)(d.c,{path:"",element:Object(m.jsx)(xn,{children:Object(m.jsx)(er,{})})}),Object(m.jsx)(d.c,{path:"settings",element:Object(m.jsx)(xn,{children:Object(m.jsx)(er,{})})}),Object(m.jsx)(d.c,{path:"orders",element:Object(m.jsx)(xn,{children:Object(m.jsx)(Kn,{})}),children:Object(m.jsx)(d.c,{path:":id",element:Object(m.jsx)(xn,{children:Object(m.jsx)($n,{})})})})]}),Object(m.jsx)(d.c,{path:"forgot-password",element:Object(m.jsx)(Nn,{children:Object(m.jsx)(qt,{})})}),Object(m.jsx)(d.c,{path:"reset-password",element:Object(m.jsx)(Nn,{children:Object(m.jsx)(hn,{})})}),Object(m.jsx)(d.c,{path:"*",element:Object(m.jsx)(Zt,{})})]})})]})})})})})},rr=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,210)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(nr,{})}),document.getElementById("root")),rr()},24:function(e,t,n){e.exports={ingredientList:"burger-constructor_ingredientList__3RxCY",chosenItem:"burger-constructor_chosenItem__2BY3m",dragIcon:"burger-constructor_dragIcon__2l1FC",dynamicPart:"burger-constructor_dynamicPart__3zpTj",burgerConstructor:"burger-constructor_burgerConstructor__1Ei5R",totalBar:"burger-constructor_totalBar__2bvEC",priceCurrency:"burger-constructor_priceCurrency__3pMaI"}},26:function(e,t,n){e.exports={container:"order_container__2qGD_",title:"order_title__Jj7o9",name:"order_name__3sHL8",photo:"order_photo__33qVa",subInfo:"order_subInfo__16Xf0",ingredientIds:"order_ingredientIds__2WeeT",ingredientImage:"order_ingredientImage__3ofxu",content:"order_content__Cd8HK",ingredientRow:"order_ingredientRow__12NgF",currency:"order_currency__3TIqZ"}},31:function(e,t,n){e.exports={twoColumns:"profile_twoColumns__2uGGJ",active:"profile_active__4c5X0",inactive:"profile_inactive__2be83",navListContainer:"profile_navListContainer__IcWuC",navLink:"profile_navLink__2adJW",profileContainer:"profile_profileContainer__14PNj"}},33:function(e,t,n){e.exports={itemContainer:"item_itemContainer__E9cNA",ingredientIds:"item_ingredientIds__3NlgU",fullname:"item_fullname__xmqst",ingredientImage:"item_ingredientImage__TiTuO",currency:"item_currency__Gh4OO",oneLeftOneRight:"item_oneLeftOneRight__32v2D"}},36:function(e,t,n){e.exports={OrderDetails:"order-details_OrderDetails__33pbo",OrderSuccessImage:"order-details_OrderSuccessImage__3VS_H",ImageContainer:"order-details_ImageContainer__2gbEf",OrderNumber:"order-details_OrderNumber__317XL"}},41:function(e,t,n){e.exports={Modal:"modal_Modal__3qVwQ",ModalContent:"modal_ModalContent__2O7S6",TopPanel:"modal_TopPanel__CXKEA",Caption:"modal_Caption__508oy",CloseButton:"modal_CloseButton__3gS14"}},47:function(e,t,n){e.exports={NavButton:"app-header_NavButton__BV9L8",NavButtonIcon:"app-header_NavButtonIcon__2I4us",NavButtonTitle:"app-header_NavButtonTitle__1E0ph",AppHeader:"app-header_AppHeader__3iIcU"}},5:function(e,t,n){"use strict";var r=n(80);n.o(r,"BurgerIcon")&&n.d(t,"BurgerIcon",(function(){return r.BurgerIcon})),n.o(r,"Button")&&n.d(t,"Button",(function(){return r.Button})),n.o(r,"CloseIcon")&&n.d(t,"CloseIcon",(function(){return r.CloseIcon})),n.o(r,"ConstructorElement")&&n.d(t,"ConstructorElement",(function(){return r.ConstructorElement})),n.o(r,"Counter")&&n.d(t,"Counter",(function(){return r.Counter})),n.o(r,"CurrencyIcon")&&n.d(t,"CurrencyIcon",(function(){return r.CurrencyIcon})),n.o(r,"DragIcon")&&n.d(t,"DragIcon",(function(){return r.DragIcon})),n.o(r,"EmailInput")&&n.d(t,"EmailInput",(function(){return r.EmailInput})),n.o(r,"Input")&&n.d(t,"Input",(function(){return r.Input})),n.o(r,"Logo")&&n.d(t,"Logo",(function(){return r.Logo})),n.o(r,"MenuIcon")&&n.d(t,"MenuIcon",(function(){return r.MenuIcon})),n.o(r,"PasswordInput")&&n.d(t,"PasswordInput",(function(){return r.PasswordInput})),n.o(r,"ProfileIcon")&&n.d(t,"ProfileIcon",(function(){return r.ProfileIcon})),n.o(r,"Tab")&&n.d(t,"Tab",(function(){return r.Tab}))},55:function(e,t,n){e.exports={container:"ingredient-details_container__1-8YX",title:"ingredient-details_title__2_5MB",name:"ingredient-details_name__3OKTo",photo:"ingredient-details_photo__1XQ1c",subInfo:"ingredient-details_subInfo__16yBa"}},56:function(e,t,n){e.exports={columns:"order-status-board_columns__2kHP6",column:"order-status-board_column__FmtRe",container:"order-status-board_container__2tZzP"}},78:function(e,t,n){e.exports={name:"order-list_name__dYACG",ordersContainer:"order-list_ordersContainer__3TFq1",ordersList:"order-list_ordersList__3CJuX"}}},[[199,1,2]]]);
//# sourceMappingURL=main.e09ffb4f.chunk.js.map